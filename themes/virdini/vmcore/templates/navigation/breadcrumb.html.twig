{% spaceless %}
{% if breadcrumb %}
{{ attach_library('vmcore/breadcrumb') }}
  {% if breadcrumb|length > 2 %}
      <ol itemtype="http://schema.org/BreadcrumbList" itemscope{{ attributes.addClass('crumb')|without('itemtype', 'itemscope') }}>
      {% for key, item in breadcrumb %}
        {% if item.url %}
          <li itemprop="itemListElement" itemtype="http://schema.org/ListItem" itemscope>
            <a itemprop="item" href="{{ item.url }}"><span itemprop="name">{{ item.text }}</span></a>
            <meta itemprop="position" content="{{ key + 1 }}">
          </li>
        {% else %}
          <li>{{ item.text }}</li>
        {% endif %}
      {% endfor %}
  {% else %}
    <ol{{ attributes.addClass('crumb')|without('itemprop') }}>
    {% for key, item in breadcrumb %}
      {% if item.url %}
        <li><a href="{{ item.url }}">{{ item.text }}</a></li>
      {% else %}
        <li>{{ item.text }}</li>
      {% endif %}
    {% endfor %}
  {% endif %}
    </ol>
{% endif %}
{% endspaceless %}
